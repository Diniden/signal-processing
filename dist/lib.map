{"version":3,"sources":["FIR.ts","pascal-triangle.ts","gaussian-blur.ts","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/count.js","../node_modules/d3-array/src/cross.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/variance.js","../node_modules/d3-array/src/deviation.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/group.js","../node_modules/d3-array/src/array.js","../node_modules/d3-array/src/constant.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-array/src/bin.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-array/src/threshold/freedmanDiaconis.js","../node_modules/d3-array/src/threshold/scott.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/maxIndex.js","../node_modules/d3-array/src/mean.js","../node_modules/d3-array/src/quickselect.js","../node_modules/d3-array/src/median.js","../node_modules/d3-array/src/merge.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/minIndex.js","../node_modules/d3-array/src/pairs.js","../node_modules/d3-array/src/permute.js","../node_modules/d3-array/src/least.js","../node_modules/d3-array/src/leastIndex.js","../node_modules/d3-array/src/scan.js","../node_modules/d3-array/src/shuffle.js","../node_modules/d3-array/src/sum.js","../node_modules/d3-array/src/transpose.js","../node_modules/d3-array/src/zip.js","../node_modules/d3-array/src/index.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-color/src/index.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/discrete.js","../node_modules/d3-interpolate/src/hue.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-interpolate/src/hsl.js","../node_modules/d3-interpolate/src/lab.js","../node_modules/d3-interpolate/src/hcl.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-interpolate/src/piecewise.js","../node_modules/d3-interpolate/src/quantize.js","../node_modules/d3-interpolate/src/index.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/index.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/identity.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-scale/src/symlog.js","../node_modules/d3-scale/src/pow.js","../node_modules/d3-scale/src/quantile.js","../node_modules/d3-scale/src/quantize.js","../node_modules/d3-scale/src/threshold.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time/src/index.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-time-format/src/index.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/utcTime.js","../node_modules/d3-scale/src/sequential.js","../node_modules/d3-scale/src/sequentialQuantile.js","../node_modules/d3-scale/src/diverging.js","../node_modules/d3-scale/src/index.js","perlin-noise.ts","index.ts"],"names":["a","b","NaN","compare","length","ascendingComparator","left","x","lo","hi","mid","right","f","d","ascendingBisect","ascending","bisectRight","bisectLeft","count","values","valueof","undefined","value","index","array","empty","arrayify","Array","from","reducer","reduce","cross","pop","map","lengths","j","fill","product","some","push","i","variance","delta","mean","sum","deviation","v","Math","sqrt","min","max","group","keys","nest","identity","groups","rollup","rollups","regroup","Map","keyof","key","get","set","prototype","slice","start","stop","step","n","arguments","ceil","range","e10","e5","e2","reverse","ticks","tickIncrement","isFinite","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","LN2","domain","extent","threshold","sturges","histogram","data","isArray","xz","x0","x1","tz","m","shift","bins","bin","_","thresholds","call","quantile","p","number","i0","value0","value1","sort","maxIndex","quickselect","k","z","s","exp","sd","newLeft","newRight","t","swap","numbers","Float64Array","flatten","arrays","merge","minIndex","pairs","pairof","pair","previous","first","source","least","defined","minValue","element","leastIndex","scan","shuffle","i1","random","matrix","transpose","row","initRange","initInterpolator","interpolator","implicit","Symbol","ordinal","unknown","scale","has","copy","apply","band","ordinalRange","r0","r1","bandwidth","round","paddingInner","paddingOuter","align","rescale","rangeRound","padding","pointish","point","constructor","factory","extend","parent","definition","Object","create","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","displayable","rgb","hex","toString","format","trim","toLowerCase","exec","parseInt","Rgb","rgbn","rgba","hsla","hasOwnProperty","r","g","rgbConvert","o","opacity","isNaN","h","l","Hsl","hslConvert","hsl","m2","m1","hsl2rgb","deg2rad","PI","rad2deg","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","y","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","c","atan2","lch","hcl","cos","sin","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","basis","v0","v1","v2","v3","linear","exponential","hue","gamma","nogamma","rgbGamma","end","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","nb","na","Date","setTime","reA","reB","zero","one","bi","lastIndex","am","bm","bs","q","join","string","date","valueOf","object","degrees","translateX","translateY","rotate","skewX","scaleX","scaleY","e","atan","cssNode","cssRoot","cssView","svgNode","parseCss","document","createElement","documentElement","defaultView","style","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","split","parseSvg","createElementNS","setAttribute","baseVal","consolidate","interpolateTransform","parse","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","rho","SQRT2","rho2","rho4","epsilon2","tanh","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","S","d1","b0","b1","coshr0","u","duration","hslLong","hclLong","cubehelixGamma","cubehelixLong","piecewise","interpolate","I","samples","unit","normalize","clamper","bimap","d0","polymap","target","clamp","transformer","interpolateValue","untransform","output","input","invert","interpolateNumber","interpolateRound","continuous","toExponential","indexOf","coefficient","grouping","thousands","width","substring","numerals","replace","re","formatSpecifier","specifier","FormatSpecifier","match","Error","sign","symbol","comma","precision","type","out","prefixExponent","exponent","toFixed","toPrecision","formatRounded","formatPrefixAuto","X","toUpperCase","prefixes","locale","currency","decimal","percent","newFormat","formatTypes","prefix","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","Infinity","formatPrefix","defaultLocale","linearish","tickFormat","nice","interval","transformLog","transformExp","transformLogn","transformExpn","pow10","powp","base","logp","log10","log2","reflect","loggish","logs","pows","transformSymlog","log1p","transformSymexp","expm1","symlogish","constant","symlog","transformPow","transformSqrt","transformSquare","powish","invertExtent","quantiles","quantize","newInterval","floori","offseti","field","offset","filter","every","millisecond","milliseconds","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getMilliseconds","getUTCSeconds","seconds","minute","getSeconds","getMinutes","minutes","hour","getHours","hours","day","setHours","setDate","getDate","getTimezoneOffset","days","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","month","setMonth","getMonth","getFullYear","months","year","setFullYear","years","utcMinute","setUTCSeconds","getUTCMinutes","utcMinutes","utcHour","setUTCMinutes","getUTCHours","utcHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcDays","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcMonths","utcYear","setUTCFullYear","utcYears","localDate","H","M","L","utcDate","UTC","newYear","formatLocale","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","Q","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","U","formatWeekNumberSunday","V","formatWeekNumberISO","w","formatWeekdayNumberSunday","W","formatWeekNumberMonday","formatYear","Y","formatFullYear","Z","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","newDate","parseSpecifier","week","timeMonday","timeDay","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","timeSunday","timeThursday","getUTCMilliseconds","dow","timeFormat","timeParse","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","durationMonth","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","timeYear","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcWeek","utcSecond","utcMillisecond","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","x2","k21","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt"],"mappings":"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","file":"lib.map","sourceRoot":"../src","sourcesContent":["import { Vec2 } from './types';\n\n/**\n * Performs a frequency filtration across a provided streamed in signal.\n * This filter can be adjusted via the seed values provided.\n */\nexport class FIRFilter {\n  coefficients: number[];\n  filter: number[];\n\n  /**\n   * The seed values work in tuples [FIR filter coefficient, starting bias];\n   * When normalize is activated, the seed values are normalized to the provided value.\n   * When normalize is a value of 1, this behaves like a low pass FIR filter.\n   */\n  constructor(seedValues: Vec2[], normalize?: number) {\n    this.coefficients = seedValues.map(seed => seed[0]);\n    this.filter = seedValues.map(seed => seed[1]);\n\n    if (normalize !== undefined) {\n      let total = 0;\n      this.coefficients.forEach(c => (total += c));\n      this.coefficients = this.coefficients.map(\n        value => (value / total) * normalize\n      );\n    }\n  }\n\n  /**\n   * Reset the filter to have all of it's filter values set to the provided value\n   */\n  reset(value: number) {\n    this.filter = this.filter.map(() => value);\n  }\n\n  /**\n   * This streams in a value into the filter and outputs the next computed value\n   */\n  stream(value: number) {\n    let out = 0;\n    this.filter.pop();\n    this.filter.unshift(value);\n\n    for (let i = 0, end = this.coefficients.length; i < end; ++i) {\n      out += this.coefficients[i] * this.filter[i];\n    }\n\n    this.filter.shift();\n    this.filter.unshift(out);\n\n    return out;\n  }\n\n  /**\n   * Runs a list of values through the filter and returns an array of each step\n   */\n  run(start: number, values: number[]) {\n    const current = this.filter.slice(0);\n    const toProcess = values.slice(0);\n    this.reset(start);\n    const out: number[] = [];\n\n    while (toProcess.length > 0) {\n      out.push(this.stream(toProcess.shift() || 0));\n    }\n\n    // Reset the filter back to where it was\n    this.filter = current;\n\n    return out;\n  }\n}\n","export class PascalTriangle {\n  /** Contains the triangles elements [[1], [1, 1], [1, 2, 1], etc] */\n  elements: number[][];\n\n  constructor(levels: number) {\n    if (levels === 0) return;\n    const elements: number[][] = [[1]];\n    const _levels = levels - 1;\n\n    // i will be the index pointing to the previous row\n    for (let i = 0; i < _levels; ++i) {\n      const previous = elements[i];\n      const row = [1];\n\n      for (let k = 0, endk = previous.length - 1; k < endk; ++k) {\n        row.push(previous[k] + previous[k + 1]);\n      }\n\n      row.push(1);\n      elements.push(row);\n    }\n\n    this.elements = elements;\n  }\n\n  /**\n   * Tries to generate a gaussian kernal based on the pascal triangle where the kernal has so many elements\n   * To get a higher quality kernal trim off the ends of the triangle's row but keep the kernal number.\n   * This causes a deeper triangle to be calculated.\n   */\n  gaussianKernal(size: number, trim: number) {\n    const toTrim = trim * 2;\n    let row: number[] = [];\n\n    // Loop until we hit a row with enough elements to make the kernal\n    for (\n      let i = 0, end = this.elements.length;\n      i < end && this.elements[i].length - toTrim <= size;\n      ++i\n    ) {\n      row = this.elements[i];\n    }\n\n    // Make sure the elements matches the requested elements size exactly\n    if (row.length - toTrim !== size) {\n      console.warn(\n        'Error in pascal triangle gaussian kernal',\n        'Requested size',\n        size,\n        'Row',\n        row,\n        'Trim amount',\n        trim,\n        'Elements',\n        this.elements\n      );\n    }\n\n    // Copy and remove trimed elements\n    let kernal = row.slice(trim, row.length - trim);\n    // Get the new total of the row\n    const total = kernal.reduce((prev, next) => next + prev, 0);\n    // Normalize the kernal\n    kernal = kernal.map(value => value / total);\n\n    return {\n      kernal,\n      total,\n    };\n  }\n}\n","import { PascalTriangle } from './pascal-triangle';\n\nexport interface IGaussianBlurOptions {\n  /** Number of samples taken per data slot */\n  kernalSize: number;\n  /** Number of times the blur is applied */\n  passes: number;\n}\n\nconst { min, max } = Math;\n\nfunction clamp(val: number, minVal: number, maxVal: number) {\n  return max(min(val, maxVal), minVal);\n}\n\n/**\n * Performs a gaussian blur on a set of numerical data.\n */\nexport class GaussianBlur {\n  // This is a blur kernal used for blending\n  private kernal: number[];\n  // These are the options for the blur operation\n  options: IGaussianBlurOptions;\n\n  constructor(options: IGaussianBlurOptions) {\n    this.options = options;\n    this.update(options);\n  }\n\n  /**\n   * Applies the blur to the input data, returns a blurred version without affecting the source.\n   */\n  generate(\n    data: number[][],\n    offsetLeft: number = 0,\n    offsetTop: number = 0,\n    offsetRight: number = 0,\n    offsetBottom: number = 0\n  ) {\n    if (!data || !data[0] || !data[0].length) return data;\n\n    const { passes } = this.options;\n    const kernal = this.kernal;\n    const outPass = data.map(col => col.slice(0));\n    const width = data.length;\n    const height = data[0].length;\n\n    const offsets: { [key: number]: number[] } = {\n      1: [0],\n      3: [-1, 0, 1],\n      5: [-2, -1, 0, 1, 2],\n      7: [-3, -2, -1, 0, 1, 2, 3],\n      9: [-4, -3, -2, -1, 0, 1, 2, 3, 4],\n    };\n    const offset = offsets[kernal.length];\n\n    if (!offset) {\n      console.warn('No offset suitable for kernal size');\n      return data;\n    }\n\n    // Instantiate our vertical pass so we don't recreate every pass\n    const verticalPass: number[][] = [];\n    for (let x = 0; x < width; ++x) {\n      verticalPass.push([]);\n    }\n\n    for (let blurCount = 0; blurCount < passes; ++blurCount) {\n      // After the octaves have been loaded in, we can blur filter the result\n      let value;\n      let sample;\n\n      // Vertical Gaussian blur pass\n      for (let x = offsetLeft, endx = width - offsetRight; x < endx; ++x) {\n        const outCol = verticalPass[x];\n        const inCol = outPass[x];\n\n        for (let y = offsetTop, endy = height - offsetBottom; y < endy; ++y) {\n          value = 0;\n\n          for (let k = 0, endk = kernal.length; k < endk; ++k) {\n            sample = clamp(y + offset[k], 0, endy - 1);\n            value += (inCol[sample] || 0) * kernal[k];\n          }\n\n          outCol[y] = value;\n        }\n      }\n\n      // Horizontal Gaussian blur into our perlin data\n      for (let x = offsetLeft, endx = width - offsetRight; x < endx; ++x) {\n        const outCol = outPass[x];\n\n        for (let y = offsetTop, endy = height - offsetBottom; y < endy; ++y) {\n          value = 0;\n\n          for (let k = 0, endk = kernal.length; k < endk; ++k) {\n            sample = clamp(x + offset[k], 0, endx - 1);\n            value += ((verticalPass[sample] || [])[y] || 0) * kernal[k];\n          }\n\n          outCol[y] = value;\n        }\n      }\n    }\n\n    return outPass;\n  }\n\n  update(options: Partial<IGaussianBlurOptions>) {\n    Object.assign(this.options, options);\n\n    if (options.kernalSize) {\n      // This is a blur kernal that will be used for sampling the zoomed in octaves\n      this.kernal = new PascalTriangle(15).gaussianKernal(\n        options.kernalSize,\n        2\n      ).kernal;\n    }\n  }\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from './ascending.js';\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = (lo + hi) >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    },\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from './ascending.js';\nimport bisector from './bisector.js';\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null && value >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== 'object' || 'length' in values\n    ? values\n    : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce =\n    typeof values[values.length - 1] === 'function' && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (value = +value) >= value\n      ) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from './variance.js';\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function(x) {\n  return x;\n}\n","import identity from './identity.js';\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new Map();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(start, stop, step) {\n  (start = +start),\n    (stop = +stop),\n    (step =\n      (n = arguments.length) < 2\n        ? ((stop = start), (start = 0), 1)\n        : n < 3\n        ? 1\n        : +step);\n\n  var i = -1,\n    n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n    range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n  e5 = Math.sqrt(10),\n  e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n    i = -1,\n    n,\n    ticks,\n    step;\n\n  (stop = +stop), (start = +start), (count = +count);\n  if (start === stop && count > 0) return [start];\n  if ((reverse = stop < start)) (n = start), (start = stop), (stop = n);\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step))\n    return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array((n = Math.ceil(stop - start + 1)));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array((n = Math.ceil(start - stop + 1)));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n    power = Math.floor(Math.log(step) / Math.LN10),\n    error = step / Math.pow(10, power);\n  return power >= 0\n    ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) *\n        Math.pow(10, power)\n    : -Math.pow(10, -power) /\n        (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n    error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import { slice } from './array.js';\nimport bisect from './bisect.js';\nimport constant from './constant.js';\nimport extent from './extent.js';\nimport identity from './identity.js';\nimport range from './range.js';\nimport { tickStep } from './ticks.js';\nimport sturges from './threshold/sturges.js';\n\nexport default function() {\n  var value = identity,\n    domain = extent,\n    threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n      n = data.length,\n      x,\n      values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n      x0 = xz[0],\n      x1 = xz[1],\n      tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n      bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length\n      ? ((value = typeof _ === 'function' ? _ : constant(_)), histogram)\n      : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length\n      ? ((domain = typeof _ === 'function' ? _ : constant([_[0], _[1]])),\n        histogram)\n      : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length\n      ? ((threshold =\n          typeof _ === 'function'\n            ? _\n            : Array.isArray(_)\n            ? constant(slice.call(_))\n            : constant(_)),\n        histogram)\n      : threshold;\n  };\n\n  return histogram;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from './number.js';\n\nexport default function quantile(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n    i = (n - 1) * p,\n    i0 = Math.floor(i),\n    value0 = +valueof(values[i0], i0, values),\n    value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import { map } from '../array.js';\nimport ascending from '../ascending.js';\nimport number from '../number.js';\nimport quantile from '../quantile.js';\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil(\n    (max - min) /\n      (2 *\n        (quantile(values, 0.75) - quantile(values, 0.25)) *\n        Math.pow(values.length, -1 / 3))\n  );\n}\n","import deviation from '../deviation.js';\n\nexport default function(values, min, max) {\n  return Math.ceil(\n    (max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3))\n  );\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (\n        value != null &&\n        (max < value || (max === undefined && value >= value))\n      ) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (max < value || (max === undefined && value >= value))\n      ) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (\n        value != null &&\n        (max < value || (max === undefined && value >= value))\n      ) {\n        (max = value), (maxIndex = index);\n      }\n    }\n  } else {\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (max < value || (max === undefined && value >= value))\n      ) {\n        (max = value), (maxIndex = index);\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, (sum += value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (value = +value) >= value\n      ) {\n        ++count, (sum += value);\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import ascending from './ascending.js';\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(\n  array,\n  k,\n  left = 0,\n  right = array.length - 1,\n  compare = ascending\n) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      const sd =\n        0.5 * Math.sqrt((z * s * (n - s)) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import quantile from './quantile.js';\nimport quickselect from './quickselect.js';\n\nfunction* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (value = +value) >= value\n      ) {\n        yield value;\n      }\n    }\n  }\n}\n\nexport default function(values, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!values.length) return;\n  const n = values.length;\n  const i = n >> 1;\n  quickselect(values, i - 1, 0);\n  if ((n & 1) === 0) quickselect(values, i, i);\n  return quantile(values, 0.5);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (\n        value != null &&\n        (min > value || (min === undefined && value >= value))\n      ) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (min > value || (min === undefined && value >= value))\n      ) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (\n        value != null &&\n        (min > value || (min === undefined && value >= value))\n      ) {\n        (min = value), (minIndex = index);\n      }\n    }\n  } else {\n    for (let value of values) {\n      if (\n        (value = valueof(value, ++index, values)) != null &&\n        (min > value || (min === undefined && value >= value))\n      ) {\n        (min = value), (minIndex = index);\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from './ascending.js';\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (\n        defined ? ascending(value, minValue) < 0 : ascending(value, value) === 0\n      ) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined ? compare(value, min) < 0 : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from './ascending.js';\n\nexport default function leastIndex(values, compare = ascending) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (compare.length === 1) {\n    for (const element of values) {\n      ++index;\n      const value = compare(element);\n      if (\n        minIndex < 0 ? ascending(value, value) === 0 : ascending(value, min) < 0\n      ) {\n        min = value;\n        minIndex = index;\n      }\n    }\n  } else {\n    for (const value of values) {\n      ++index;\n      if (\n        minIndex < 0 ? compare(value, value) === 0 : compare(value, min) < 0\n      ) {\n        min = value;\n        minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","import leastIndex from './leastIndex.js';\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default function shuffle(array, i0 = 0, i1 = array.length) {\n  var m = i1 - (i0 = +i0),\n    t,\n    i;\n\n  while (m) {\n    i = (Math.random() * m--) | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if ((value = +value)) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = +valueof(value, ++index, values))) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import min from './min.js';\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (\n    var i = -1, m = min(matrix, length), transpose = new Array(m);\n    ++i < m;\n\n  ) {\n    for (var j = -1, n, row = (transpose[i] = new Array(n)); ++j < n; ) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import transpose from './transpose.js';\n\nexport default function() {\n  return transpose(arguments);\n}\n","export { default as bisect, bisectRight, bisectLeft } from './bisect.js';\nexport { default as ascending } from './ascending.js';\nexport { default as bisector } from './bisector.js';\nexport { default as count } from './count.js';\nexport { default as cross } from './cross.js';\nexport { default as descending } from './descending.js';\nexport { default as deviation } from './deviation.js';\nexport { default as extent } from './extent.js';\nexport { default as group, groups, rollup, rollups } from './group.js';\nexport { default as bin, default as histogram } from './bin.js'; // Deprecated; use bin.\nexport {\n  default as thresholdFreedmanDiaconis,\n} from './threshold/freedmanDiaconis.js';\nexport { default as thresholdScott } from './threshold/scott.js';\nexport { default as thresholdSturges } from './threshold/sturges.js';\nexport { default as max } from './max.js';\nexport { default as maxIndex } from './maxIndex.js';\nexport { default as mean } from './mean.js';\nexport { default as median } from './median.js';\nexport { default as merge } from './merge.js';\nexport { default as min } from './min.js';\nexport { default as minIndex } from './minIndex.js';\nexport { default as pairs } from './pairs.js';\nexport { default as permute } from './permute.js';\nexport { default as quantile } from './quantile.js';\nexport { default as quickselect } from './quickselect.js';\nexport { default as range } from './range.js';\nexport { default as least } from './least.js';\nexport { default as leastIndex } from './leastIndex.js';\nexport { default as scan } from './scan.js'; // Deprecated; use leastIndex.\nexport { default as shuffle } from './shuffle.js';\nexport { default as sum } from './sum.js';\nexport { default as ticks, tickIncrement, tickStep } from './ticks.js';\nexport { default as transpose } from './transpose.js';\nexport { default as variance } from './variance.js';\nexport { default as zip } from './zip.js';\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      this.range(domain);\n      break;\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      this.interpolator(domain);\n      break;\n    default:\n      this.interpolator(interpolator).domain(domain);\n      break;\n  }\n  return this;\n}\n","import { initRange } from './init';\n\nexport const implicit = Symbol('implicit');\n\nexport default function ordinal() {\n  var index = new Map(),\n    domain = [],\n    range = [],\n    unknown = implicit;\n\n  function scale(d) {\n    var key = d + '',\n      i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, (i = domain.push(d)));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    (domain = []), (index = new Map());\n    for (const value of _) {\n      const key = value + '';\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ((range = Array.from(_)), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import { range as sequence } from 'd3-array';\nimport { initRange } from './init';\nimport ordinal from './ordinal';\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n    domain = scale.domain,\n    ordinalRange = scale.range,\n    r0 = 0,\n    r1 = 1,\n    step,\n    bandwidth,\n    round = false,\n    paddingInner = 0,\n    paddingOuter = 0,\n    align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n      reverse = r1 < r0,\n      start = reverse ? r1 : r0,\n      stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) (start = Math.round(start)), (bandwidth = Math.round(bandwidth));\n    var values = sequence(n).map(function(i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length\n      ? (([r0, r1] = _), (r0 = +r0), (r1 = +r1), rescale())\n      : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return ([r0, r1] = _), (r0 = +r0), (r1 = +r1), (round = true), rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? ((round = !!_), rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length\n      ? ((paddingInner = Math.min(1, (paddingOuter = +_))), rescale())\n      : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length\n      ? ((paddingInner = Math.min(1, _)), rescale())\n      : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? ((paddingOuter = +_), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length\n      ? ((align = Math.max(0, Math.min(1, _))), rescale())\n      : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n      .round(round)\n      .paddingInner(paddingInner)\n      .paddingOuter(paddingOuter)\n      .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, { extend } from './define';\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = '\\\\s*([+-]?\\\\d+)\\\\s*',\n  reN = '\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*',\n  reP = '\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*',\n  reHex3 = /^#([0-9a-f]{3})$/,\n  reHex6 = /^#([0-9a-f]{6})$/,\n  reRgbInteger = new RegExp('^rgb\\\\(' + [reI, reI, reI] + '\\\\)$'),\n  reRgbPercent = new RegExp('^rgb\\\\(' + [reP, reP, reP] + '\\\\)$'),\n  reRgbaInteger = new RegExp('^rgba\\\\(' + [reI, reI, reI, reN] + '\\\\)$'),\n  reRgbaPercent = new RegExp('^rgba\\\\(' + [reP, reP, reP, reN] + '\\\\)$'),\n  reHslPercent = new RegExp('^hsl\\\\(' + [reN, reP, reP] + '\\\\)$'),\n  reHslaPercent = new RegExp('^hsla\\\\(' + [reN, reP, reP, reN] + '\\\\)$');\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32,\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + '';\n  },\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + '').trim().toLowerCase();\n  return (m = reHex3.exec(format))\n    ? ((m = parseInt(m[1], 16)),\n      new Rgb(\n        ((m >> 8) & 0xf) | ((m >> 4) & 0x0f0),\n        ((m >> 4) & 0xf) | (m & 0xf0),\n        ((m & 0xf) << 4) | (m & 0xf),\n        1\n      )) // #f00\n    : (m = reHex6.exec(format))\n    ? rgbn(parseInt(m[1], 16)) // #ff0000\n    : (m = reRgbInteger.exec(format))\n    ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n    : (m = reRgbPercent.exec(format))\n    ? new Rgb((m[1] * 255) / 100, (m[2] * 255) / 100, (m[3] * 255) / 100, 1) // rgb(100%, 0%, 0%)\n    : (m = reRgbaInteger.exec(format))\n    ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n    : (m = reRgbaPercent.exec(format))\n    ? rgba((m[1] * 255) / 100, (m[2] * 255) / 100, (m[3] * 255) / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n    : (m = reHslPercent.exec(format))\n    ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n    : (m = reHslaPercent.exec(format))\n    ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n    : named.hasOwnProperty(format)\n    ? rgbn(named[format])\n    : format === 'transparent'\n    ? new Rgb(NaN, NaN, NaN, 0)\n    : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb((n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1\n    ? rgbConvert(r)\n    : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (\n      -0.5 <= this.r &&\n      this.r < 255.5 &&\n      (-0.5 <= this.g && this.g < 255.5) &&\n      (-0.5 <= this.b && this.b < 255.5) &&\n      (0 <= this.opacity && this.opacity <= 1)\n    );\n  },\n  hex: function() {\n    return '#' + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (\n      (a === 1 ? 'rgb(' : 'rgba(') +\n      Math.max(0, Math.min(255, Math.round(this.r) || 0)) +\n      ', ' +\n      Math.max(0, Math.min(255, Math.round(this.g) || 0)) +\n      ', ' +\n      Math.max(0, Math.min(255, Math.round(this.b) || 0)) +\n      (a === 1 ? ')' : ', ' + a + ')')\n    );\n  },\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? '0' : '') + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n    g = o.g / 255,\n    b = o.b / 255,\n    min = Math.min(r, g, b),\n    max = Math.max(r, g, b),\n    h = NaN,\n    s = max - min,\n    l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1\n    ? hslConvert(h)\n    : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = (this.h % 360) + (this.h < 0) * 360,\n      s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n      l = this.l,\n      m2 = l + (l < 0.5 ? l : 1 - l) * s,\n      m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (\n      ((0 <= this.s && this.s <= 1) || isNaN(this.s)) &&\n      (0 <= this.l && this.l <= 1) &&\n      (0 <= this.opacity && this.opacity <= 1)\n    );\n  },\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (\n    (h < 60\n      ? m1 + ((m2 - m1) * h) / 60\n      : h < 180\n      ? m2\n      : h < 240\n      ? m1 + ((m2 - m1) * (240 - h)) / 60\n      : m1) * 255\n  );\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, { extend } from './define';\nimport { Color, rgbConvert, Rgb } from './color';\nimport { deg2rad, rad2deg } from './math';\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n  Xn = 0.96422,\n  Yn = 1,\n  Zn = 0.82521,\n  t0 = 4 / 29,\n  t1 = 6 / 29,\n  t2 = 3 * t1 * t1,\n  t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n    g = rgb2lrgb(o.g),\n    b = rgb2lrgb(o.b),\n    y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n    x,\n    z;\n  if (r === g && g === b) x = z = y;\n  else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1\n    ? labConvert(l)\n    : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(\n      this.l + K * (k == null ? 1 : k),\n      this.a,\n      this.b,\n      this.opacity\n    );\n  },\n  darker: function(k) {\n    return new Lab(\n      this.l - K * (k == null ? 1 : k),\n      this.a,\n      this.b,\n      this.opacity\n    );\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n      x = isNaN(this.a) ? y : y + this.a / 500,\n      z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.033454 * z),\n      lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  },\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return (\n    255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055)\n  );\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0)\n    return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(\n    h < 0 ? h + 360 : h,\n    Math.sqrt(o.a * o.a + o.b * o.b),\n    o.l,\n    o.opacity\n  );\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1\n    ? hclConvert(l)\n    : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1\n    ? hclConvert(h)\n    : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(\n      this.h,\n      this.c,\n      this.l + K * (k == null ? 1 : k),\n      this.opacity\n    );\n  },\n  darker: function(k) {\n    return new Hcl(\n      this.h,\n      this.c,\n      this.l - K * (k == null ? 1 : k),\n      this.opacity\n    );\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  },\n}));\n","import define, { extend } from './define';\nimport { Color, rgbConvert, Rgb, darker, brighter } from './color';\nimport { deg2rad, rad2deg } from './math';\n\nvar A = -0.14861,\n  B = +1.78277,\n  C = -0.29227,\n  D = -0.90649,\n  E = +1.97294,\n  ED = E * D,\n  EB = E * B,\n  BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n    g = o.g / 255,\n    b = o.b / 255,\n    l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n    bl = b - l,\n    k = (E * (g - l) - C * bl) / D,\n    s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n    h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1\n    ? cubehelixConvert(h)\n    : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n      l = +this.l,\n      a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n      cosh = Math.cos(h),\n      sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  },\n}));\n","export { default as color, rgb, hsl } from './color';\nexport { default as lab, hcl, lch, gray } from './lab';\nexport { default as cubehelix } from './cubehelix';\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1,\n    t3 = t2 * t1;\n  return (\n    ((1 - 3 * t1 + 3 * t2 - t3) * v0 +\n      (4 - 6 * t2 + 3 * t3) * v1 +\n      (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 +\n      t3 * v3) /\n    6\n  );\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? ((t = 1), n - 1) : Math.floor(t * n),\n      v1 = values[i],\n      v2 = values[i + 1],\n      v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n      v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import { basis } from './basis';\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n      v0 = values[(i + n - 1) % n],\n      v1 = values[i % n],\n      v2 = values[(i + 1) % n],\n      v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from './constant';\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return (\n    (a = Math.pow(a, y)),\n    (b = Math.pow(b, y) - a),\n    (y = 1 / y),\n    function(t) {\n      return Math.pow(a + t * b, y);\n    }\n  );\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d\n    ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d)\n    : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1\n    ? nogamma\n    : function(a, b) {\n        return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n      };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import { rgb as colorRgb } from 'd3-color';\nimport basis from './basis';\nimport basisClosed from './basisClosed';\nimport nogamma, { gamma } from './color';\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n      g = color(start.g, end.g),\n      b = color(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + '';\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n      r = new Array(n),\n      g = new Array(n),\n      b = new Array(n),\n      i,\n      color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + '';\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from './value';\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n    na = a ? Math.min(nb, a.length) : 0,\n    x = new Array(na),\n    c = new Array(nb),\n    i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date();\n  return (\n    (a = +a),\n    (b -= a),\n    function(t) {\n      return d.setTime(a + b * t), d;\n    }\n  );\n}\n","export default function(a, b) {\n  return (\n    (a = +a),\n    (b -= a),\n    function(t) {\n      return a + b * t;\n    }\n  );\n}\n","import value from './value';\n\nexport default function(a, b) {\n  var i = {},\n    c = {},\n    k;\n\n  if (a === null || typeof a !== 'object') a = {};\n  if (b === null || typeof b !== 'object') b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from './number';\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n  reB = new RegExp(reA.source, 'g');\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + '';\n  };\n}\n\nexport default function(a, b) {\n  var bi = (reA.lastIndex = reB.lastIndex = 0), // scan index for next number in b\n    am, // current match in a\n    bm, // current match in b\n    bs, // string preceding current number in b, if any\n    i = -1, // index in s\n    s = [], // string constants and placeholders\n    q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  (a = a + ''), (b = b + '');\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs;\n      // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm;\n      // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({ i: i, x: number(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs;\n    // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2\n    ? q[0]\n      ? one(q[0].x)\n      : zero(b)\n    : ((b = q.length),\n      function(t) {\n        for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n        return s.join('');\n      });\n}\n","import { color } from 'd3-color';\nimport rgb from './rgb';\nimport array from './array';\nimport date from './date';\nimport number from './number';\nimport object from './object';\nimport string from './string';\nimport constant from './constant';\n\nexport default function(a, b) {\n  var t = typeof b,\n    c;\n  return b == null || t === 'boolean'\n    ? constant(b)\n    : (t === 'number'\n        ? number\n        : t === 'string'\n        ? (c = color(b))\n          ? ((b = c), rgb)\n          : string\n        : b instanceof color\n        ? rgb\n        : b instanceof Date\n        ? date\n        : Array.isArray(b)\n        ? array\n        : (typeof b.valueOf !== 'function' &&\n            typeof b.toString !== 'function') ||\n          isNaN(b)\n        ? object\n        : number)(a, b);\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import { hue } from './color';\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return (\n    (a = +a),\n    (b -= a),\n    function(t) {\n      return Math.round(a + b * t);\n    }\n  );\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if ((scaleX = Math.sqrt(a * a + b * b))) (a /= scaleX), (b /= scaleX);\n  if ((skewX = a * c + b * d)) (c -= a * skewX), (d -= b * skewX);\n  if ((scaleY = Math.sqrt(c * c + d * d)))\n    (c /= scaleY), (d /= scaleY), (skewX /= scaleY);\n  if (a * d < b * c) (a = -a), (b = -b), (skewX = -skewX), (scaleX = -scaleX);\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY,\n  };\n}\n","import decompose, { identity } from './decompose';\n\nvar cssNode, cssRoot, cssView, svgNode;\n\nexport function parseCss(value) {\n  if (value === 'none') return identity;\n  if (!cssNode)\n    (cssNode = document.createElement('DIV')),\n      (cssRoot = document.documentElement),\n      (cssView = document.defaultView);\n  cssNode.style.transform = value;\n  value = cssView\n    .getComputedStyle(cssRoot.appendChild(cssNode), null)\n    .getPropertyValue('transform');\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(',');\n  return decompose(\n    +value[0],\n    +value[1],\n    +value[2],\n    +value[3],\n    +value[4],\n    +value[5]\n  );\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode)\n    svgNode = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n  svgNode.setAttribute('transform', value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from '../number';\nimport { parseCss, parseSvg } from './parse';\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + ' ' : '';\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push('translate(', null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: number(xa, xb) }, { i: i - 2, x: number(ya, yb) });\n    } else if (xb || yb) {\n      s.push('translate(' + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360;\n      else if (b - a > 180) a += 360; // shortest path\n      q.push({\n        i: s.push(pop(s) + 'rotate(', null, degParen) - 2,\n        x: number(a, b),\n      });\n    } else if (b) {\n      s.push(pop(s) + 'rotate(' + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({\n        i: s.push(pop(s) + 'skewX(', null, degParen) - 2,\n        x: number(a, b),\n      });\n    } else if (b) {\n      s.push(pop(s) + 'skewX(' + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + 'scale(', null, ',', null, ')');\n      q.push({ i: i - 4, x: number(xa, xb) }, { i: i - 2, x: number(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + 'scale(' + xb + ',' + yb + ')');\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n      q = []; // number interpolators\n    (a = parse(a)), (b = parse(b));\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1,\n        n = q.length,\n        o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join('');\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(\n  parseCss,\n  'px, ',\n  'px)',\n  'deg)'\n);\nexport var interpolateTransformSvg = interpolateTransform(\n  parseSvg,\n  ', ',\n  ')',\n  ')'\n);\n","var rho = Math.SQRT2,\n  rho2 = 2,\n  rho4 = 4,\n  epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0],\n    uy0 = p0[1],\n    w0 = p0[2],\n    ux1 = p1[0],\n    uy1 = p1[1],\n    w1 = p1[2],\n    dx = ux1 - ux0,\n    dy = uy1 - uy0,\n    d2 = dx * dx + dy * dy,\n    i,\n    S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(rho * t * S)];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n      b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n      b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n      r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n      r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n        coshr0 = cosh(r0),\n        u = (w0 / (rho2 * d1)) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [ux0 + u * dx, uy0 + u * dy, (w0 * coshr0) / cosh(rho * s + r0)];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import { hsl as colorHsl } from 'd3-color';\nimport color, { hue } from './color';\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n      s = color(start.s, end.s),\n      l = color(start.l, end.l),\n      opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + '';\n    };\n  };\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import { lab as colorLab } from 'd3-color';\nimport color from './color';\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n    a = color(start.a, end.a),\n    b = color(start.b, end.b),\n    opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + '';\n  };\n}\n","import { hcl as colorHcl } from 'd3-color';\nimport color, { hue } from './color';\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n      c = color(start.c, end.c),\n      l = color(start.l, end.l),\n      opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + '';\n    };\n  };\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import { cubehelix as colorCubehelix } from 'd3-color';\nimport color, { hue } from './color';\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue(\n          (start = colorCubehelix(start)).h,\n          (end = colorCubehelix(end)).h\n        ),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + '';\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function piecewise(interpolate, values) {\n  var i = 0,\n    n = values.length - 1,\n    v = values[0],\n    I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, (v = values[++i]));\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor((t *= n))));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export { default as interpolate } from './value';\nexport { default as interpolateArray } from './array';\nexport { default as interpolateBasis } from './basis';\nexport { default as interpolateBasisClosed } from './basisClosed';\nexport { default as interpolateDate } from './date';\nexport { default as interpolateDiscrete } from './discrete';\nexport { default as interpolateHue } from './hue';\nexport { default as interpolateNumber } from './number';\nexport { default as interpolateObject } from './object';\nexport { default as interpolateRound } from './round';\nexport { default as interpolateString } from './string';\nexport {\n  interpolateTransformCss,\n  interpolateTransformSvg,\n} from './transform/index';\nexport { default as interpolateZoom } from './zoom';\nexport {\n  default as interpolateRgb,\n  rgbBasis as interpolateRgbBasis,\n  rgbBasisClosed as interpolateRgbBasisClosed,\n} from './rgb';\nexport {\n  default as interpolateHsl,\n  hslLong as interpolateHslLong,\n} from './hsl';\nexport { default as interpolateLab } from './lab';\nexport {\n  default as interpolateHcl,\n  hclLong as interpolateHclLong,\n} from './hcl';\nexport {\n  default as interpolateCubehelix,\n  cubehelixLong as interpolateCubehelixLong,\n} from './cubehelix';\nexport { default as piecewise } from './piecewise';\nexport { default as quantize } from './quantize';\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import { bisect } from 'd3-array';\nimport {\n  interpolate as interpolateValue,\n  interpolateNumber,\n  interpolateRound,\n} from 'd3-interpolate';\nimport constant from './constant';\nimport number from './number';\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a)\n    ? function(x) {\n        return (x - a) / b;\n      }\n    : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0],\n    b = domain[domain.length - 1],\n    t;\n  if (a > b) (t = a), (a = b), (b = t);\n  return function(x) {\n    return Math.max(a, Math.min(b, x));\n  };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n    d1 = domain[1],\n    r0 = range[0],\n    r1 = range[1];\n  if (d1 < d0) (d0 = normalize(d1, d0)), (r0 = interpolate(r1, r0));\n  else (d0 = normalize(d0, d1)), (r0 = interpolate(r0, r1));\n  return function(x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n    d = new Array(j),\n    r = new Array(j),\n    i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n    .domain(source.domain())\n    .range(source.range())\n    .interpolate(source.interpolate())\n    .clamp(source.clamp())\n    .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n    range = unit,\n    interpolate = interpolateValue,\n    transform,\n    untransform,\n    unknown,\n    clamp = identity,\n    piecewise,\n    output,\n    input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN((x = +x))\n      ? unknown\n      : (output ||\n          (output = piecewise(domain.map(transform), range, interpolate)))(\n          transform(clamp(x))\n        );\n  }\n\n  scale.invert = function(y) {\n    return clamp(\n      untransform(\n        (input ||\n          (input = piecewise(range, domain.map(transform), interpolateNumber)))(\n          y\n        )\n      )\n    );\n  };\n\n  scale.domain = function(_) {\n    return arguments.length\n      ? ((domain = Array.from(_, number)),\n        clamp === identity || (clamp = clamper(domain)),\n        rescale())\n      : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length\n      ? ((range = Array.from(_)), rescale())\n      : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return (range = Array.from(_)), (interpolate = interpolateRound), rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length\n      ? ((clamp = _ ? clamper(domain) : identity), scale)\n      : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? ((interpolate = _), rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  return function(t, u) {\n    (transform = t), (untransform = u);\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if (\n    (i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf('e')) < 0\n  )\n    return null; // NaN, Infinity\n  var i,\n    coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1\n      ? coefficient[0] + coefficient.slice(2)\n      : coefficient,\n    +x.slice(i + 1),\n  ];\n}\n","import formatDecimal from './formatDecimal';\n\nexport default function(x) {\n  return (x = formatDecimal(Math.abs(x))), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n      t = [],\n      j = 0,\n      g = grouping[0],\n      length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring((i -= g), i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[(j = (j + 1) % grouping.length)];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier)))\n    throw new Error('invalid format: ' + specifier);\n  var match;\n  this.fill = match[1] || ' ';\n  this.align = match[2] || '>';\n  this.sign = match[3] || '-';\n  this.symbol = match[4] || '';\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || '';\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return (\n    this.fill +\n    this.align +\n    this.sign +\n    this.symbol +\n    (this.zero ? '0' : '') +\n    (this.width == null ? '' : Math.max(1, this.width | 0)) +\n    (this.comma ? ',' : '') +\n    (this.precision == null ? '' : '.' + Math.max(0, this.precision | 0)) +\n    (this.trim ? '~' : '') +\n    this.type\n  );\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case '.':\n        i0 = i1 = i;\n        break;\n      case '0':\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n      default:\n        if (i0 > 0) {\n          if (!+s[i]) break out;\n          i0 = 0;\n        }\n        break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from './formatDecimal';\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + '';\n  var coefficient = d[0],\n    exponent = d[1],\n    i =\n      exponent -\n      (prefixExponent =\n        Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) +\n      1,\n    n = coefficient.length;\n  return i === n\n    ? coefficient\n    : i > n\n    ? coefficient + new Array(i - n + 1).join('0')\n    : i > 0\n    ? coefficient.slice(0, i) + '.' + coefficient.slice(i)\n    : '0.' +\n      new Array(1 - i).join('0') +\n      formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from './formatDecimal';\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + '';\n  var coefficient = d[0],\n    exponent = d[1];\n  return exponent < 0\n    ? '0.' + new Array(-exponent).join('0') + coefficient\n    : coefficient.length > exponent + 1\n    ? coefficient.slice(0, exponent + 1) + '.' + coefficient.slice(exponent + 1)\n    : coefficient + new Array(exponent - coefficient.length + 2).join('0');\n}\n","import formatPrefixAuto from './formatPrefixAuto';\nimport formatRounded from './formatRounded';\n\nexport default {\n  '%': function(x, p) {\n    return (x * 100).toFixed(p);\n  },\n  b: function(x) {\n    return Math.round(x).toString(2);\n  },\n  c: function(x) {\n    return x + '';\n  },\n  d: function(x) {\n    return Math.round(x).toString(10);\n  },\n  e: function(x, p) {\n    return x.toExponential(p);\n  },\n  f: function(x, p) {\n    return x.toFixed(p);\n  },\n  g: function(x, p) {\n    return x.toPrecision(p);\n  },\n  o: function(x) {\n    return Math.round(x).toString(8);\n  },\n  p: function(x, p) {\n    return formatRounded(x * 100, p);\n  },\n  r: formatRounded,\n  s: formatPrefixAuto,\n  X: function(x) {\n    return Math.round(x)\n      .toString(16)\n      .toUpperCase();\n  },\n  x: function(x) {\n    return Math.round(x).toString(16);\n  },\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from './exponent';\nimport formatGroup from './formatGroup';\nimport formatNumerals from './formatNumerals';\nimport formatSpecifier from './formatSpecifier';\nimport formatTrim from './formatTrim';\nimport formatTypes from './formatTypes';\nimport { prefixExponent } from './formatPrefixAuto';\nimport identity from './identity';\n\nvar prefixes = [\n  'y',\n  'z',\n  'a',\n  'f',\n  'p',\n  'n',\n  '',\n  'm',\n  '',\n  'k',\n  'M',\n  'G',\n  'T',\n  'P',\n  'E',\n  'Z',\n  'Y',\n];\n\nexport default function(locale) {\n  var group =\n      locale.grouping && locale.thousands\n        ? formatGroup(locale.grouping, locale.thousands)\n        : identity,\n    currency = locale.currency,\n    decimal = locale.decimal,\n    numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n    percent = locale.percent || '%';\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n      align = specifier.align,\n      sign = specifier.sign,\n      symbol = specifier.symbol,\n      zero = specifier.zero,\n      width = specifier.width,\n      comma = specifier.comma,\n      precision = specifier.precision,\n      trim = specifier.trim,\n      type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === 'n') (comma = true), (type = 'g');\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type])\n      precision == null && (precision = 12), (trim = true), (type = 'g');\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === '0' && align === '='))\n      (zero = true), (fill = '0'), (align = '=');\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix =\n        symbol === '$'\n          ? currency[0]\n          : symbol === '#' && /[boxX]/.test(type)\n          ? '0' + type.toLowerCase()\n          : '',\n      suffix = symbol === '$' ? currency[1] : /[%p]/.test(type) ? percent : '';\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n      maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision =\n      precision == null\n        ? 6\n        : /[gprs]/.test(type)\n        ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n        valueSuffix = suffix,\n        i,\n        n,\n        c;\n\n      if (type === 'c') {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = '';\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix =\n          (valueNegative\n            ? sign === '('\n              ? sign\n              : '-'\n            : sign === '-' || sign === '('\n            ? ''\n            : sign) + valuePrefix;\n        valueSuffix =\n          (type === 's' ? prefixes[8 + prefixExponent / 3] : '') +\n          valueSuffix +\n          (valueNegative && sign === '(' ? ')' : '');\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          (i = -1), (n = value.length);\n          while (++i < n) {\n            if (((c = value.charCodeAt(i)), 48 > c || c > 57)) {\n              valueSuffix =\n                (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) +\n                valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n        padding =\n          length < width ? new Array(width - length + 1).join(fill) : '';\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero)\n        (value = group(\n          padding + value,\n          padding.length ? width - valueSuffix.length : Infinity\n        )),\n          (padding = '');\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case '<':\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n        case '=':\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n        case '^':\n          value =\n            padding.slice(0, (length = padding.length >> 1)) +\n            valuePrefix +\n            value +\n            valueSuffix +\n            padding.slice(length);\n          break;\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + '';\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat(\n        ((specifier = formatSpecifier(specifier)),\n        (specifier.type = 'f'),\n        specifier)\n      ),\n      e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n      k = Math.pow(10, -e),\n      prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix,\n  };\n}\n","import formatLocale from './locale';\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: '.',\n  thousands: ',',\n  grouping: [3],\n  currency: ['$', ''],\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from './exponent';\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from './exponent';\n\nexport default function(step, value) {\n  return Math.max(\n    0,\n    Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 -\n      exponent(Math.abs(step))\n  );\n}\n","import exponent from './exponent';\n\nexport default function(step, max) {\n  (step = Math.abs(step)), (max = Math.abs(max) - step);\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export {\n  default as formatDefaultLocale,\n  format,\n  formatPrefix,\n} from './defaultLocale';\nexport { default as formatLocale } from './locale';\nexport { default as formatSpecifier } from './formatSpecifier';\nexport { default as precisionFixed } from './precisionFixed';\nexport { default as precisionPrefix } from './precisionPrefix';\nexport { default as precisionRound } from './precisionRound';\n","import { tickStep } from 'd3-array';\nimport {\n  format,\n  formatPrefix,\n  formatSpecifier,\n  precisionFixed,\n  precisionPrefix,\n  precisionRound,\n} from 'd3-format';\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n    precision;\n  specifier = formatSpecifier(specifier == null ? ',f' : specifier);\n  switch (specifier.type) {\n    case 's': {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (\n        specifier.precision == null &&\n        !isNaN((precision = precisionPrefix(step, value)))\n      )\n        specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case '':\n    case 'e':\n    case 'g':\n    case 'p':\n    case 'r': {\n      if (\n        specifier.precision == null &&\n        !isNaN(\n          (precision = precisionRound(\n            step,\n            Math.max(Math.abs(start), Math.abs(stop))\n          ))\n        )\n      )\n        specifier.precision = precision - (specifier.type === 'e');\n      break;\n    }\n    case 'f':\n    case '%': {\n      if (\n        specifier.precision == null &&\n        !isNaN((precision = precisionFixed(step)))\n      )\n        specifier.precision = precision - (specifier.type === '%') * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import { ticks, tickIncrement } from 'd3-array';\nimport continuous, { copy, identity } from './continuous';\nimport { initRange } from './init';\nimport tickFormat from './tickFormat';\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(\n      d[0],\n      d[d.length - 1],\n      count == null ? 10 : count,\n      specifier\n    );\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n      i0 = 0,\n      i1 = d.length - 1,\n      start = d[i0],\n      stop = d[i1],\n      step;\n\n    if (stop < start) {\n      (step = start), (start = stop), (stop = step);\n      (step = i0), (i0 = i1), (i1 = step);\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import { linearish } from './linear';\nimport number from './number';\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return isNaN((x = +x)) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length\n      ? ((domain = Array.from(_, number)), scale)\n      : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n    i1 = domain.length - 1,\n    x0 = domain[i0],\n    x1 = domain[i1],\n    t;\n\n  if (x1 < x0) {\n    (t = i0), (i0 = i1), (i1 = t);\n    (t = x0), (x0 = x1), (x1 = t);\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import { ticks } from 'd3-array';\nimport { format } from 'd3-format';\nimport nice from './nice';\nimport { copy, transformer } from './continuous';\nimport { initRange } from './init';\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +('1e' + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10\n    ? pow10\n    : base === Math.E\n    ? Math.exp\n    : function(x) {\n        return Math.pow(base, x);\n      };\n}\n\nfunction logp(base) {\n  return base === Math.E\n    ? Math.log\n    : (base === 10 && Math.log10) ||\n        (base === 2 && Math.log2) ||\n        ((base = Math.log(base)),\n        function(x) {\n          return Math.log(x) / base;\n        });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n    domain = scale.domain,\n    base = 10,\n    logs,\n    pows;\n\n  function rescale() {\n    (logs = logp(base)), (pows = powp(base));\n    if (domain()[0] < 0) {\n      (logs = reflect(logs)), (pows = reflect(pows));\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? ((base = +_), rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n      u = d[0],\n      v = d[d.length - 1],\n      r;\n\n    if ((r = v < u)) (i = u), (u = v), (v = i);\n\n    var i = logs(u),\n      j = logs(v),\n      p,\n      k,\n      t,\n      n = count == null ? 10 : +count,\n      z = [];\n\n    if (!(base % 1) && j - i < n) {\n      (i = Math.round(i) - 1), (j = Math.round(j) + 1);\n      if (u > 0)\n        for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      else\n        for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? '.0e' : ',';\n    if (typeof specifier !== 'function') specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, (base * count) / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : '';\n    };\n  };\n\n  scale.nice = function() {\n    return domain(\n      nice(domain(), {\n        floor: function(x) {\n          return pows(Math.floor(logs(x)));\n        },\n        ceil: function(x) {\n          return pows(Math.ceil(logs(x)));\n        },\n      })\n    );\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import { linearish } from './linear';\nimport { copy, transformer } from './continuous';\nimport { initRange } from './init';\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1,\n    scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length\n      ? transform(transformSymlog((c = +_)), transformSymexp(c))\n      : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { linearish } from './linear';\nimport { copy, identity, transformer } from './continuous';\nimport { initRange } from './init';\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n    exponent = 1;\n\n  function rescale() {\n    return exponent === 1\n      ? transform(identity, identity)\n      : exponent === 0.5\n      ? transform(transformSqrt, transformSquare)\n      : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? ((exponent = +_), rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import { ascending, bisect, quantile as threshold } from 'd3-array';\nimport { initRange } from './init';\n\nexport default function quantile() {\n  var domain = [],\n    range = [],\n    thresholds = [],\n    unknown;\n\n  function rescale() {\n    var i = 0,\n      n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN((x = +x)) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0\n      ? [NaN, NaN]\n      : [\n          i > 0 ? thresholds[i - 1] : domain[0],\n          i < thresholds.length ? thresholds[i] : domain[domain.length - 1],\n        ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN((d = +d))) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length\n      ? ((range = Array.from(_)), rescale())\n      : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n      .domain(domain)\n      .range(range)\n      .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { bisect } from 'd3-array';\nimport { linearish } from './linear';\nimport { initRange } from './init';\n\nexport default function quantize() {\n  var x0 = 0,\n    x1 = 1,\n    n = 1,\n    domain = [0.5],\n    range = [0, 1],\n    unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length\n      ? (([x0, x1] = _), (x0 = +x0), (x1 = +x1), rescale())\n      : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length\n      ? ((n = (range = Array.from(_)).length - 1), rescale())\n      : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0\n      ? [NaN, NaN]\n      : i < 1\n      ? [x0, domain[0]]\n      : i >= n\n      ? [domain[n - 1], x1]\n      : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n      .domain([x0, x1])\n      .range(range)\n      .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import { bisect } from 'd3-array';\nimport { initRange } from './init';\n\nexport default function threshold() {\n  var domain = [0.5],\n    range = [0, 1],\n    unknown,\n    n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length\n      ? ((domain = Array.from(_)),\n        (n = Math.min(domain.length, range.length - 1)),\n        scale)\n      : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length\n      ? ((range = Array.from(_)),\n        (n = Math.min(domain.length, range.length - 1)),\n        scale)\n      : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n      .domain(domain)\n      .range(range)\n      .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","var t0 = new Date(),\n  t1 = new Date();\n\nexport default function newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori((date = new Date(+date))), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return (\n      floori((date = new Date(date - 1))), offseti(date, 1), floori(date), date\n    );\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n      d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return (\n      offseti((date = new Date(+date)), step == null ? 1 : Math.floor(step)),\n      date\n    );\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [],\n      previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do\n      range.push((previous = new Date(+start))),\n        offseti(start, step),\n        floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(\n      function(date) {\n        if (date >= date)\n          while ((floori(date), !test(date))) date.setTime(date - 1);\n      },\n      function(date, step) {\n        if (date >= date) {\n          if (step < 0)\n            while (++step <= 0) {\n              while ((offseti(date, -1), !test(date))) {} // eslint-disable-line no-empty\n            }\n          else\n            while (--step >= 0) {\n              while ((offseti(date, +1), !test(date))) {} // eslint-disable-line no-empty\n            }\n        }\n      }\n    );\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0)\n        ? null\n        : !(step > 1)\n        ? interval\n        : interval.filter(\n            field\n              ? function(d) {\n                  return field(d) % step === 0;\n                }\n              : function(d) {\n                  return interval.count(0, d) % step === 0;\n                }\n          );\n    };\n  }\n\n  return interval;\n}\n","import interval from './interval';\n\nvar millisecond = interval(\n  function() {\n    // noop\n  },\n  function(date, step) {\n    date.setTime(+date + step);\n  },\n  function(start, end) {\n    return end - start;\n  }\n);\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(\n    function(date) {\n      date.setTime(Math.floor(date / k) * k);\n    },\n    function(date, step) {\n      date.setTime(+date + step * k);\n    },\n    function(start, end) {\n      return (end - start) / k;\n    }\n  );\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from './interval';\nimport { durationSecond } from './duration';\n\nvar second = interval(\n  function(date) {\n    date.setTime(date - date.getMilliseconds());\n  },\n  function(date, step) {\n    date.setTime(+date + step * durationSecond);\n  },\n  function(start, end) {\n    return (end - start) / durationSecond;\n  },\n  function(date) {\n    return date.getUTCSeconds();\n  }\n);\n\nexport default second;\nexport var seconds = second.range;\n","import interval from './interval';\nimport { durationMinute, durationSecond } from './duration';\n\nvar minute = interval(\n  function(date) {\n    date.setTime(\n      date - date.getMilliseconds() - date.getSeconds() * durationSecond\n    );\n  },\n  function(date, step) {\n    date.setTime(+date + step * durationMinute);\n  },\n  function(start, end) {\n    return (end - start) / durationMinute;\n  },\n  function(date) {\n    return date.getMinutes();\n  }\n);\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from './interval';\nimport { durationHour, durationMinute, durationSecond } from './duration';\n\nvar hour = interval(\n  function(date) {\n    date.setTime(\n      date -\n        date.getMilliseconds() -\n        date.getSeconds() * durationSecond -\n        date.getMinutes() * durationMinute\n    );\n  },\n  function(date, step) {\n    date.setTime(+date + step * durationHour);\n  },\n  function(start, end) {\n    return (end - start) / durationHour;\n  },\n  function(date) {\n    return date.getHours();\n  }\n);\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from './interval';\nimport { durationDay, durationMinute } from './duration';\n\nvar day = interval(\n  function(date) {\n    date.setHours(0, 0, 0, 0);\n  },\n  function(date, step) {\n    date.setDate(date.getDate() + step);\n  },\n  function(start, end) {\n    return (\n      (end -\n        start -\n        (end.getTimezoneOffset() - start.getTimezoneOffset()) *\n          durationMinute) /\n      durationDay\n    );\n  },\n  function(date) {\n    return date.getDate() - 1;\n  }\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from './interval';\nimport { durationMinute, durationWeek } from './duration';\n\nfunction weekday(i) {\n  return interval(\n    function(date) {\n      date.setDate(date.getDate() - ((date.getDay() + 7 - i) % 7));\n      date.setHours(0, 0, 0, 0);\n    },\n    function(date, step) {\n      date.setDate(date.getDate() + step * 7);\n    },\n    function(start, end) {\n      return (\n        (end -\n          start -\n          (end.getTimezoneOffset() - start.getTimezoneOffset()) *\n            durationMinute) /\n        durationWeek\n      );\n    }\n  );\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from './interval';\n\nvar month = interval(\n  function(date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n  },\n  function(date, step) {\n    date.setMonth(date.getMonth() + step);\n  },\n  function(start, end) {\n    return (\n      end.getMonth() -\n      start.getMonth() +\n      (end.getFullYear() - start.getFullYear()) * 12\n    );\n  },\n  function(date) {\n    return date.getMonth();\n  }\n);\n\nexport default month;\nexport var months = month.range;\n","import interval from './interval';\n\nvar year = interval(\n  function(date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  },\n  function(date, step) {\n    date.setFullYear(date.getFullYear() + step);\n  },\n  function(start, end) {\n    return end.getFullYear() - start.getFullYear();\n  },\n  function(date) {\n    return date.getFullYear();\n  }\n);\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite((k = Math.floor(k))) || !(k > 0)\n    ? null\n    : interval(\n        function(date) {\n          date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n          date.setMonth(0, 1);\n          date.setHours(0, 0, 0, 0);\n        },\n        function(date, step) {\n          date.setFullYear(date.getFullYear() + step * k);\n        }\n      );\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from './interval';\nimport { durationMinute } from './duration';\n\nvar utcMinute = interval(\n  function(date) {\n    date.setUTCSeconds(0, 0);\n  },\n  function(date, step) {\n    date.setTime(+date + step * durationMinute);\n  },\n  function(start, end) {\n    return (end - start) / durationMinute;\n  },\n  function(date) {\n    return date.getUTCMinutes();\n  }\n);\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from './interval';\nimport { durationHour } from './duration';\n\nvar utcHour = interval(\n  function(date) {\n    date.setUTCMinutes(0, 0, 0);\n  },\n  function(date, step) {\n    date.setTime(+date + step * durationHour);\n  },\n  function(start, end) {\n    return (end - start) / durationHour;\n  },\n  function(date) {\n    return date.getUTCHours();\n  }\n);\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from './interval';\nimport { durationDay } from './duration';\n\nvar utcDay = interval(\n  function(date) {\n    date.setUTCHours(0, 0, 0, 0);\n  },\n  function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n  },\n  function(start, end) {\n    return (end - start) / durationDay;\n  },\n  function(date) {\n    return date.getUTCDate() - 1;\n  }\n);\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from './interval';\nimport { durationWeek } from './duration';\n\nfunction utcWeekday(i) {\n  return interval(\n    function(date) {\n      date.setUTCDate(date.getUTCDate() - ((date.getUTCDay() + 7 - i) % 7));\n      date.setUTCHours(0, 0, 0, 0);\n    },\n    function(date, step) {\n      date.setUTCDate(date.getUTCDate() + step * 7);\n    },\n    function(start, end) {\n      return (end - start) / durationWeek;\n    }\n  );\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from './interval';\n\nvar utcMonth = interval(\n  function(date) {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n  },\n  function(date, step) {\n    date.setUTCMonth(date.getUTCMonth() + step);\n  },\n  function(start, end) {\n    return (\n      end.getUTCMonth() -\n      start.getUTCMonth() +\n      (end.getUTCFullYear() - start.getUTCFullYear()) * 12\n    );\n  },\n  function(date) {\n    return date.getUTCMonth();\n  }\n);\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from './interval';\n\nvar utcYear = interval(\n  function(date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  },\n  function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n  },\n  function(start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n  },\n  function(date) {\n    return date.getUTCFullYear();\n  }\n);\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite((k = Math.floor(k))) || !(k > 0)\n    ? null\n    : interval(\n        function(date) {\n          date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n          date.setUTCMonth(0, 1);\n          date.setUTCHours(0, 0, 0, 0);\n        },\n        function(date, step) {\n          date.setUTCFullYear(date.getUTCFullYear() + step * k);\n        }\n      );\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","export { default as timeInterval } from './interval';\n\nexport {\n  default as timeMillisecond,\n  milliseconds as timeMilliseconds,\n  default as utcMillisecond,\n  milliseconds as utcMilliseconds,\n} from './millisecond';\n\nexport {\n  default as timeSecond,\n  seconds as timeSeconds,\n  default as utcSecond,\n  seconds as utcSeconds,\n} from './second';\n\nexport { default as timeMinute, minutes as timeMinutes } from './minute';\n\nexport { default as timeHour, hours as timeHours } from './hour';\n\nexport { default as timeDay, days as timeDays } from './day';\n\nexport {\n  sunday as timeWeek,\n  sundays as timeWeeks,\n  sunday as timeSunday,\n  sundays as timeSundays,\n  monday as timeMonday,\n  mondays as timeMondays,\n  tuesday as timeTuesday,\n  tuesdays as timeTuesdays,\n  wednesday as timeWednesday,\n  wednesdays as timeWednesdays,\n  thursday as timeThursday,\n  thursdays as timeThursdays,\n  friday as timeFriday,\n  fridays as timeFridays,\n  saturday as timeSaturday,\n  saturdays as timeSaturdays,\n} from './week';\n\nexport { default as timeMonth, months as timeMonths } from './month';\n\nexport { default as timeYear, years as timeYears } from './year';\n\nexport { default as utcMinute, utcMinutes } from './utcMinute';\n\nexport { default as utcHour, utcHours } from './utcHour';\n\nexport { default as utcDay, utcDays } from './utcDay';\n\nexport {\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday,\n  utcSundays,\n  utcMonday,\n  utcMondays,\n  utcTuesday,\n  utcTuesdays,\n  utcWednesday,\n  utcWednesdays,\n  utcThursday,\n  utcThursdays,\n  utcFriday,\n  utcFridays,\n  utcSaturday,\n  utcSaturdays,\n} from './utcWeek';\n\nexport { default as utcMonth, utcMonths } from './utcMonth';\n\nexport { default as utcYear, utcYears } from './utcYear';\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear,\n} from 'd3-time';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return { y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0 };\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n    locale_date = locale.date,\n    locale_time = locale.time,\n    locale_periods = locale.periods,\n    locale_weekdays = locale.days,\n    locale_shortWeekdays = locale.shortDays,\n    locale_months = locale.months,\n    locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n    periodLookup = formatLookup(locale_periods),\n    weekdayRe = formatRe(locale_weekdays),\n    weekdayLookup = formatLookup(locale_weekdays),\n    shortWeekdayRe = formatRe(locale_shortWeekdays),\n    shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n    monthRe = formatRe(locale_months),\n    monthLookup = formatLookup(locale_months),\n    shortMonthRe = formatRe(locale_shortMonths),\n    shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    a: formatShortWeekday,\n    A: formatWeekday,\n    b: formatShortMonth,\n    B: formatMonth,\n    c: null,\n    d: formatDayOfMonth,\n    e: formatDayOfMonth,\n    f: formatMicroseconds,\n    H: formatHour24,\n    I: formatHour12,\n    j: formatDayOfYear,\n    L: formatMilliseconds,\n    m: formatMonthNumber,\n    M: formatMinutes,\n    p: formatPeriod,\n    Q: formatUnixTimestamp,\n    s: formatUnixTimestampSeconds,\n    S: formatSeconds,\n    u: formatWeekdayNumberMonday,\n    U: formatWeekNumberSunday,\n    V: formatWeekNumberISO,\n    w: formatWeekdayNumberSunday,\n    W: formatWeekNumberMonday,\n    x: null,\n    X: null,\n    y: formatYear,\n    Y: formatFullYear,\n    Z: formatZone,\n    '%': formatLiteralPercent,\n  };\n\n  var utcFormats = {\n    a: formatUTCShortWeekday,\n    A: formatUTCWeekday,\n    b: formatUTCShortMonth,\n    B: formatUTCMonth,\n    c: null,\n    d: formatUTCDayOfMonth,\n    e: formatUTCDayOfMonth,\n    f: formatUTCMicroseconds,\n    H: formatUTCHour24,\n    I: formatUTCHour12,\n    j: formatUTCDayOfYear,\n    L: formatUTCMilliseconds,\n    m: formatUTCMonthNumber,\n    M: formatUTCMinutes,\n    p: formatUTCPeriod,\n    Q: formatUnixTimestamp,\n    s: formatUnixTimestampSeconds,\n    S: formatUTCSeconds,\n    u: formatUTCWeekdayNumberMonday,\n    U: formatUTCWeekNumberSunday,\n    V: formatUTCWeekNumberISO,\n    w: formatUTCWeekdayNumberSunday,\n    W: formatUTCWeekNumberMonday,\n    x: null,\n    X: null,\n    y: formatUTCYear,\n    Y: formatUTCFullYear,\n    Z: formatUTCZone,\n    '%': formatLiteralPercent,\n  };\n\n  var parses = {\n    a: parseShortWeekday,\n    A: parseWeekday,\n    b: parseShortMonth,\n    B: parseMonth,\n    c: parseLocaleDateTime,\n    d: parseDayOfMonth,\n    e: parseDayOfMonth,\n    f: parseMicroseconds,\n    H: parseHour24,\n    I: parseHour24,\n    j: parseDayOfYear,\n    L: parseMilliseconds,\n    m: parseMonthNumber,\n    M: parseMinutes,\n    p: parsePeriod,\n    Q: parseUnixTimestamp,\n    s: parseUnixTimestampSeconds,\n    S: parseSeconds,\n    u: parseWeekdayNumberMonday,\n    U: parseWeekNumberSunday,\n    V: parseWeekNumberISO,\n    w: parseWeekdayNumberSunday,\n    W: parseWeekNumberMonday,\n    x: parseLocaleDate,\n    X: parseLocaleTime,\n    y: parseYear,\n    Y: parseFullYear,\n    Z: parseZone,\n    '%': parseLiteralPercent,\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n        i = -1,\n        j = 0,\n        n = specifier.length,\n        c,\n        pad,\n        format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[(c = specifier.charAt(++i))]) != null)\n            c = specifier.charAt(++i);\n          else pad = c === 'e' ? ' ' : '0';\n          if ((format = formats[c])) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join('');\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n        i = parseSpecifier(d, specifier, (string += ''), 0),\n        week,\n        day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if ('Q' in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if ('p' in d) d.H = (d.H % 12) + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if ('V' in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!('w' in d)) d.w = 1;\n        if ('Z' in d) {\n          (week = utcDate(newYear(d.y))), (day = week.getUTCDay());\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + ((d.w + 6) % 7);\n        } else {\n          (week = newDate(newYear(d.y))), (day = week.getDay());\n          week =\n            day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + ((d.w + 6) % 7);\n        }\n      } else if ('W' in d || 'U' in d) {\n        if (!('w' in d)) d.w = 'u' in d ? d.u % 7 : 'W' in d ? 1 : 0;\n        day =\n          'Z' in d\n            ? utcDate(newYear(d.y)).getUTCDay()\n            : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d =\n          'W' in d\n            ? ((d.w + 6) % 7) + d.W * 7 - ((day + 5) % 7)\n            : d.w + d.U * 7 - ((day + 6) % 7);\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if ('Z' in d) {\n        d.H += (d.Z / 100) | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n      n = specifier.length,\n      m = string.length,\n      c,\n      parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? ((d.p = periodLookup[n[0].toLowerCase()]), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n\n      ? ((d.w = shortWeekdayLookup[n[0].toLowerCase()]), i + n[0].length)\n      : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n\n      ? ((d.w = weekdayLookup[n[0].toLowerCase()]), i + n[0].length)\n      : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n\n      ? ((d.m = shortMonthLookup[n[0].toLowerCase()]), i + n[0].length)\n      : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? ((d.m = monthLookup[n[0].toLowerCase()]), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat((specifier += ''), formats);\n      f.toString = function() {\n        return specifier;\n      };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse((specifier += ''), localDate);\n      p.toString = function() {\n        return specifier;\n      };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat((specifier += ''), utcFormats);\n      f.toString = function() {\n        return specifier;\n      };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() {\n        return specifier;\n      };\n      return p;\n    },\n  };\n}\n\nvar pads = { '-': '', _: ' ', '0': '0' },\n  numberRe = /^\\s*\\d+/, // note: ignores next directive\n  percentRe = /^%/,\n  requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? '-' : '',\n    string = (sign ? -value : value) + '',\n    length = string.length;\n  return (\n    sign +\n    (length < width\n      ? new Array(width - length + 1).join(fill) + string\n      : string)\n  );\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, '\\\\$&');\n}\n\nfunction formatRe(names) {\n  return new RegExp('^(?:' + names.map(requote).join('|') + ')', 'i');\n}\n\nfunction formatLookup(names) {\n  var map = {},\n    i = -1,\n    n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? ((d.w = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? ((d.u = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.U = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.V = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.W = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? ((d.y = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000)), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n\n    ? ((d.Z = n[1] ? 0 : -(n[2] + (n[3] || '00'))), i + n[0].length)\n    : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.m = n[0] - 1), i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.d = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? ((d.m = 0), (d.d = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.H = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.M = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? ((d.S = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? ((d.L = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? ((d.L = Math.floor(n[0] / 1000)), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? ((d.Q = +n[0]), i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? ((d.Q = +n[0] * 1000), i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + '000';\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(\n    timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4),\n    p,\n    2\n  );\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (\n    (z > 0 ? '-' : ((z *= -1), '+')) +\n    pad((z / 60) | 0, '0', 2) +\n    pad(z % 60, '0', 2)\n  );\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + '000';\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(\n    utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4),\n    p,\n    2\n  );\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return '+0000';\n}\n\nfunction formatLiteralPercent() {\n  return '%';\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from './locale';\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: '%x, %X',\n  date: '%-m/%-d/%Y',\n  time: '%-I:%M:%S %p',\n  periods: ['AM', 'PM'],\n  days: [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n  ],\n  shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  months: [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ],\n  shortMonths: [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sep',\n    'Oct',\n    'Nov',\n    'Dec',\n  ],\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import { utcFormat } from './defaultLocale';\n\nexport var isoSpecifier = '%Y-%m-%dT%H:%M:%S.%LZ';\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n  ? formatIsoNative\n  : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import { isoSpecifier } from './isoFormat';\nimport { utcParse } from './defaultLocale';\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date('2000-01-01T00:00:00.000Z')\n  ? parseIsoNative\n  : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export {\n  default as timeFormatDefaultLocale,\n  timeFormat,\n  timeParse,\n  utcFormat,\n  utcParse,\n} from './defaultLocale';\nexport { default as timeFormatLocale } from './locale';\nexport { default as isoFormat } from './isoFormat';\nexport { default as isoParse } from './isoParse';\n","import { bisector, tickStep } from 'd3-array';\nimport {\n  timeYear,\n  timeMonth,\n  timeWeek,\n  timeDay,\n  timeHour,\n  timeMinute,\n  timeSecond,\n  timeMillisecond,\n} from 'd3-time';\nimport { timeFormat } from 'd3-time-format';\nimport continuous, { copy, identity } from './continuous';\nimport { initRange } from './init';\nimport nice from './nice';\n\nvar durationSecond = 1000,\n  durationMinute = durationSecond * 60,\n  durationHour = durationMinute * 60,\n  durationDay = durationHour * 24,\n  durationWeek = durationDay * 7,\n  durationMonth = durationDay * 30,\n  durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(\n  year,\n  month,\n  week,\n  day,\n  hour,\n  minute,\n  second,\n  millisecond,\n  format\n) {\n  var scale = continuous(identity, identity),\n    invert = scale.invert,\n    domain = scale.domain;\n\n  var formatMillisecond = format('.%L'),\n    formatSecond = format(':%S'),\n    formatMinute = format('%I:%M'),\n    formatHour = format('%I %p'),\n    formatDay = format('%a %d'),\n    formatWeek = format('%b %d'),\n    formatMonth = format('%B'),\n    formatYear = format('%Y');\n\n  var tickIntervals = [\n    [second, 1, durationSecond],\n    [second, 5, 5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute, 1, durationMinute],\n    [minute, 5, 5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [hour, 1, durationHour],\n    [hour, 3, 3 * durationHour],\n    [hour, 6, 6 * durationHour],\n    [hour, 12, 12 * durationHour],\n    [day, 1, durationDay],\n    [day, 2, 2 * durationDay],\n    [week, 1, durationWeek],\n    [month, 1, durationMonth],\n    [month, 3, 3 * durationMonth],\n    [year, 1, durationYear],\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date\n      ? formatMillisecond\n      : minute(date) < date\n      ? formatSecond\n      : hour(date) < date\n      ? formatMinute\n      : day(date) < date\n      ? formatHour\n      : month(date) < date\n      ? week(date) < date\n        ? formatDay\n        : formatWeek\n      : year(date) < date\n      ? formatMonth\n      : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === 'number') {\n      var target = Math.abs(stop - start) / interval,\n        i = bisector(function(i) {\n          return i[2];\n        }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i =\n          tickIntervals[\n            target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target\n              ? i - 1\n              : i\n          ];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length\n      ? domain(Array.from(_, number))\n      : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n      t0 = d[0],\n      t1 = d[d.length - 1],\n      r = t1 < t0,\n      t;\n    if (r) (t = t0), (t0 = t1), (t1 = t);\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n      ? domain(nice(d, interval))\n      : scale;\n  };\n\n  scale.copy = function() {\n    return copy(\n      scale,\n      calendar(\n        year,\n        month,\n        week,\n        day,\n        hour,\n        minute,\n        second,\n        millisecond,\n        format\n      )\n    );\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(\n    calendar(\n      timeYear,\n      timeMonth,\n      timeWeek,\n      timeDay,\n      timeHour,\n      timeMinute,\n      timeSecond,\n      timeMillisecond,\n      timeFormat\n    ).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]),\n    arguments\n  );\n}\n","import { calendar } from './time';\nimport { utcFormat } from 'd3-time-format';\nimport {\n  utcYear,\n  utcMonth,\n  utcWeek,\n  utcDay,\n  utcHour,\n  utcMinute,\n  utcSecond,\n  utcMillisecond,\n} from 'd3-time';\nimport { initRange } from './init';\n\nexport default function() {\n  return initRange.apply(\n    calendar(\n      utcYear,\n      utcMonth,\n      utcWeek,\n      utcDay,\n      utcHour,\n      utcMinute,\n      utcSecond,\n      utcMillisecond,\n      utcFormat\n    ).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]),\n    arguments\n  );\n}\n","import { identity } from './continuous';\nimport { initInterpolator } from './init';\nimport { linearish } from './linear';\nimport { loggish } from './log';\nimport { symlogish } from './symlog';\nimport { powish } from './pow';\n\nfunction transformer() {\n  var x0 = 0,\n    x1 = 1,\n    t0,\n    t1,\n    k10,\n    transform,\n    interpolator = identity,\n    clamp = false,\n    unknown;\n\n  function scale(x) {\n    return isNaN((x = +x))\n      ? unknown\n      : interpolator(\n          k10 === 0\n            ? 0.5\n            : ((x = (transform(x) - t0) * k10),\n              clamp ? Math.max(0, Math.min(1, x)) : x)\n        );\n  }\n\n  scale.domain = function(_) {\n    return arguments.length\n      ? (([x0, x1] = _),\n        (t0 = transform((x0 = +x0))),\n        (t1 = transform((x1 = +x1))),\n        (k10 = t0 === t1 ? 0 : 1 / (t1 - t0)),\n        scale)\n      : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? ((clamp = !!_), scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? ((interpolator = _), scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  return function(t) {\n    (transform = t),\n      (t0 = t(x0)),\n      (t1 = t(x1)),\n      (k10 = t0 === t1 ? 0 : 1 / (t1 - t0));\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n    .domain(source.domain())\n    .interpolator(source.interpolator())\n    .clamp(source.clamp())\n    .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import { ascending, bisect } from 'd3-array';\nimport { identity } from './continuous';\nimport { initInterpolator } from './init';\n\nexport default function sequentialQuantile() {\n  var domain = [],\n    interpolator = identity;\n\n  function scale(x) {\n    if (!isNaN((x = +x)))\n      return interpolator((bisect(domain, x) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN((d = +d))) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? ((interpolator = _), scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import { identity } from './continuous';\nimport { initInterpolator } from './init';\nimport { linearish } from './linear';\nimport { loggish } from './log';\nimport { copy } from './sequential';\nimport { symlogish } from './symlog';\nimport { powish } from './pow';\n\nfunction transformer() {\n  var x0 = 0,\n    x1 = 0.5,\n    x2 = 1,\n    t0,\n    t1,\n    t2,\n    k10,\n    k21,\n    interpolator = identity,\n    transform,\n    clamp = false,\n    unknown;\n\n  function scale(x) {\n    return isNaN((x = +x))\n      ? unknown\n      : ((x = 0.5 + ((x = +transform(x)) - t1) * (x < t1 ? k10 : k21)),\n        interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length\n      ? (([x0, x1, x2] = _),\n        (t0 = transform((x0 = +x0))),\n        (t1 = transform((x1 = +x1))),\n        (t2 = transform((x2 = +x2))),\n        (k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0)),\n        (k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1)),\n        scale)\n      : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? ((clamp = !!_), scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? ((interpolator = _), scale) : interpolator;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? ((unknown = _), scale) : unknown;\n  };\n\n  return function(t) {\n    (transform = t),\n      (t0 = t(x0)),\n      (t1 = t(x1)),\n      (t2 = t(x2)),\n      (k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0)),\n      (k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1));\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export { default as scaleBand, point as scalePoint } from './band';\n\nexport { default as scaleIdentity } from './identity';\n\nexport { default as scaleLinear } from './linear';\n\nexport { default as scaleLog } from './log';\n\nexport { default as scaleSymlog } from './symlog';\n\nexport { default as scaleOrdinal, implicit as scaleImplicit } from './ordinal';\n\nexport { default as scalePow, sqrt as scaleSqrt } from './pow';\n\nexport { default as scaleQuantile } from './quantile';\n\nexport { default as scaleQuantize } from './quantize';\n\nexport { default as scaleThreshold } from './threshold';\n\nexport { default as scaleTime } from './time';\n\nexport { default as scaleUtc } from './utcTime';\n\nexport {\n  default as scaleSequential,\n  sequentialLog as scaleSequentialLog,\n  sequentialPow as scaleSequentialPow,\n  sequentialSqrt as scaleSequentialSqrt,\n  sequentialSymlog as scaleSequentialSymlog,\n} from './sequential';\n\nexport { default as scaleSequentialQuantile } from './sequentialQuantile';\n\nexport {\n  default as scaleDiverging,\n  divergingLog as scaleDivergingLog,\n  divergingPow as scaleDivergingPow,\n  divergingSqrt as scaleDivergingSqrt,\n  divergingSymlog as scaleDivergingSymlog,\n} from './diverging';\n\nexport { default as tickFormat } from './tickFormat';\n","import { scaleLinear } from 'd3-scale';\nimport { GaussianBlur } from './gaussian-blur';\nimport { Vec2 } from './types';\n\nconst { abs, floor, max, min, random } = Math;\n\nexport interface IPerlinOptions {\n  /** Output width */\n  width: number;\n  /** Output height */\n  height: number;\n  /** The amount of blurring to apply to the combined octaves */\n  blendPasses: number;\n  /**\n   * An octave is the start of perlin noise with a gaussian noise map. Each octave should be smaller\n   * than the end result. The octave is then scaled up then averaged with the\n   * other octaves. Octaves closer to the output size creates greater detail in regions, while\n   * octaves that are smaller creates larger features.\n   *\n   * Octaves are in the format [width, height]\n   */\n  octaves: Vec2[];\n  /**\n   * This sets the values that should appear within the perlin dataset.\n   */\n  valueRange: Vec2;\n}\n\n/**\n * This generates a 2d plane of perlin noise that is gray scale with values\n * that are 0 - 1.\n */\nexport class PerlinNoise {\n  /** The blurring kernal used to blur the data */\n  private blur: GaussianBlur;\n  /** The perlin data with values 0 - 1 */\n  data: number[][];\n  /** Used for debug rendering the output */\n  private debugContext: HTMLCanvasElement;\n  /** The options used to construct the data */\n  options: IPerlinOptions;\n\n  get width() {\n    return this.options.width;\n  }\n\n  get height() {\n    return this.options.height;\n  }\n\n  /**\n   * Provide the output size, and the size of the octaves generated.\n   */\n  constructor(options: IPerlinOptions) {\n    this.options = options;\n    this.blur = new GaussianBlur({\n      passes: options.blendPasses,\n      kernalSize: 9,\n    });\n\n    this.update(options);\n  }\n\n  /**\n   * Generates a new perlin dataset\n   */\n  async generate() {\n    const { width, height, octaves, valueRange } = this.options;\n    // This will contain the end perlin result\n    let perlin: number[][] = [];\n\n    // Loop through each octave and multiply it into the perlin output\n    octaves.forEach(octave => {\n      // Start with a smaller sized map of pure gray scale noise\n      const small: number[][] = [];\n      const smallWidth = octave[0];\n      const smallHeight = octave[1];\n      const scaleX = scaleLinear()\n        .domain([0, width])\n        .range([0, smallWidth]);\n      const scaleY = scaleLinear()\n        .domain([0, height])\n        .range([0, smallHeight]);\n\n      // Make the octave base\n      for (let x = 0; x < smallWidth; ++x) {\n        const col: number[] = [];\n        small.push(col);\n\n        for (let y = 0; y < smallHeight; ++y) {\n          col.push(random());\n        }\n      }\n\n      // Sample the octave into the size of the output perlin image\n      for (let x = 0; x < width; ++x) {\n        const col = (perlin[x] = perlin[x] || []);\n\n        for (let y = 0; y < height; ++y) {\n          col[y] = (col[y] || 1) * small[floor(scaleX(x))][floor(scaleY(y))];\n        }\n      }\n    });\n\n    // Run through the perlin noise data with our blur filter\n    perlin = this.blur.generate(perlin);\n\n    // We now normalize the ranges to keep details brighter\n    // We also make the data within each cell reflect the data range\n    // that is specified\n    let maxVal = -1;\n    const range = valueRange[1] - valueRange[0];\n    const base = valueRange[0];\n\n    for (let x = 0; x < width; ++x) {\n      const col = perlin[x];\n\n      for (let y = 0; y < height; ++y) {\n        // First brigten up darkened areas\n        // perlin[x][y] *= 1 / (perlin[x][y] + 1);\n        // Now get the max value\n        maxVal = max(col[y], maxVal);\n      }\n    }\n\n    for (let x = 0; x < width; ++x) {\n      const col = perlin[x];\n\n      for (let y = 0; y < height; ++y) {\n        col[y] /= maxVal;\n        col[y] = col[y] * range + base;\n      }\n    }\n\n    this.data = perlin;\n  }\n\n  /**\n   * Will just ensure the data object is populated with a generation.\n   */\n  async generateOnce() {\n    if (!this.data) {\n      await this.generate();\n    }\n  }\n\n  /**\n   * Retrieves a rectangular sample from the perlin data.\n   * If a threshold is included, absolute values below it will be zero'ed out.\n   */\n  sample(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    threshold?: number\n  ) {\n    const out: number[][] = [];\n\n    if (threshold) {\n      for (let i = x, end = min(this.data.length, x + width); i < end; ++i) {\n        out.push(\n          this.data[i]\n            .slice(y, y + height)\n            .map(value => (abs(value) > threshold ? value : 0))\n        );\n      }\n    } else {\n      for (let i = x, end = min(this.data.length, x + width); i < end; ++i) {\n        out.push(this.data[i].slice(y, y + height));\n      }\n    }\n\n    return out;\n  }\n\n  /**\n   * Update the options for the noise generation.\n   */\n  update(options: Partial<IPerlinOptions>) {\n    Object.assign(this.options, options);\n\n    if (options.blendPasses) {\n      this.blur.update({\n        passes: options.blendPasses,\n      });\n    }\n  }\n\n  /**\n   * Renders a canvas on the screen showing the generated output.\n   */\n  debug(threshold: number = 0, clear?: boolean) {\n    if (clear) {\n      if (this.debugContext) {\n        this.debugContext.remove();\n      }\n      return;\n    }\n\n    const canvas = document.createElement('canvas').getContext('2d');\n\n    if (canvas) {\n      const { valueRange } = this.options;\n      const element = canvas.canvas;\n      document.getElementsByTagName('body')[0].appendChild(canvas.canvas);\n      const width = (element.width = this.data.length);\n      const height = (element.height = this.data[0].length);\n      const data = canvas.getImageData(0, 0, width, height);\n      let index = 0;\n      const range = valueRange[1] - valueRange[0];\n      const base = valueRange[0];\n\n      if (threshold) {\n        for (let x = 0, end = this.data.length; x < end; ++x) {\n          const col = this.data[x];\n\n          for (let y = 0, endy = col.length; y < endy; ++y) {\n            const val = 255 * (abs(col[y]) > threshold ? 1 : 0);\n            data.data[index * 4] = val;\n            data.data[index * 4 + 1] = val;\n            data.data[index * 4 + 2] = val;\n            data.data[index * 4 + 3] = 255;\n            index++;\n          }\n        }\n      } else {\n        for (let x = 0, end = this.data.length; x < end; ++x) {\n          const col = this.data[x];\n\n          for (let y = 0, endy = col.length; y < endy; ++y) {\n            const val = 255 * ((col[y] - base) / range);\n            data.data[index * 4] = val;\n            data.data[index * 4 + 1] = val;\n            data.data[index * 4 + 2] = val;\n            data.data[index * 4 + 3] = 255;\n            index++;\n          }\n        }\n      }\n\n      canvas.putImageData(data, 0, 0);\n      element.style.position = 'fixed';\n      element.style.top = '0px';\n      element.style.left = '0px';\n      element.style.zIndex = '9999';\n\n      this.debugContext = element;\n    }\n  }\n}\n","export * from './FIR';\nexport * from './gaussian-blur';\nexport * from './pascal-triangle';\nexport * from './perlin-noise';\nexport * from './types';\n"]}